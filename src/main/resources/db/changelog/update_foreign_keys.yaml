databaseChangeLog:
  - changeSet:
      id: updateAddressForeignKey
      author: Nikolett
      changes:
        - dropForeignKeyConstraint:
            baseTableName: address
            baseTableSchemaName: dbo
            constraintName: fk_address_person_id
        - addForeignKeyConstraint:
            baseColumnNames: person_id
            baseTableName: address
            baseTableSchemaName: dbo
            constraintName: fk_address_person_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: person
            referencedTableSchemaName: dbo
            validate: true
  - changeSet:
      id: updateAddressAvailabilityForeignKey
      author: Nikolett
      changes:
        - dropForeignKeyConstraint:
            baseTableName: address_availability
            baseTableSchemaName: dbo
            constraintName: fk_address_availability_address_id
        - addForeignKeyConstraint:
            baseColumnNames: address_id
            baseTableName: address_availability
            baseTableSchemaName: dbo
            constraintName: fk_address_availability_address_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: address
            referencedTableSchemaName: dbo
            validate: true
  - changeSet:
      id: updatePersonAvailabilityForeignKey
      author: Nikolett
      changes:
        - dropForeignKeyConstraint:
            baseTableName: person_availability
            baseTableSchemaName: dbo
            constraintName: fk_person_availability_person_id
        - addForeignKeyConstraint:
            baseColumnNames: person_id
            baseTableName: person_availability
            baseTableSchemaName: dbo
            constraintName: fk_person_availability_person_id
            onDelete: CASCADE
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: person
            referencedTableSchemaName: dbo
            validate: true